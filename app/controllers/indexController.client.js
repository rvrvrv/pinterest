'use strict';$(document).ready(function(){ajaxFunctions.ready(ajaxFunctions.ajaxRequest('GET','/api/allPins/',showAllPins)),$('.brand-logo').click(function(){filterPinsByLink('*'),$('.pins').isotope('shuffle')}),$('.filter-btn').click(function(){filterPinsByBtn(this)})});function bigImg(a){$('#bigImg').attr('src',a.attr('src')),$('#bigImgCaption').html(a.attr('alt')),$('#bigImgOwner').html('Pinned by '+a.attr('data-owner-name')),$('.modal-big-img').modal('open')}function errorMsg(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'An error has occurred. Please try again later.',b=arguments[1];b&&$(b).css('pointer-events','unset'),Materialize.toast(a,3e3,'error')}function progress(a,b){'show'===a?(b&&$('.bar').removeClass('determinate').addClass('indeterminate'),$('.progress').removeClass('hidden')):($('.progress').addClass('hidden'),b&&$('.bar').removeClass('indeterminate').addClass('determinate'))}function showAllPins(a){progress('show');var b=JSON.parse(a),c=0,d=0;b.forEach(function(a,e){if($('.pins').append(generatePin(a.url,a.caption,a.ownerId,a.ownerName,a.likes)),e===b.length-1){$('#loading').fadeOut().remove();var f=$('.pins').isotope({itemSelector:'.grid-item',masonry:{isFitWidth:!0}});f.imagesLoaded().progress(function(){c++,d=Math.round(100*(c/b.length)),$('.determinate').css('width',d+'%'),f.isotope('layout')}),$('.tooltipped').tooltip(),$('.modal-big-img').modal(),$('.grid-item img').click(function(){bigImg($(this))}),$('.grid-item .left a').click(function(){filterPinsByLink('[data-owner="'+$(this).data('owner')+'"]')}),checkLoginStatus(),f.imagesLoaded(function(){progress('hide'),$('.grid-item img').css('background-image','none')})}})}